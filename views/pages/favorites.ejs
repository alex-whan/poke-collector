<%- include('../layout/head.ejs') %>
<%- include('../layout/header.ejs') %>

<main class="wrapper">
  <h2>Your Pokemon Collection</h2>
  <section class="favorites-link">
    <div>
      <a href="/">Return to Home</a>
    </div>
  </section>
  <section class="pokedex" id="pokedex">
    <ul>
      <% favoritePokemon.forEach(pokemon => { %>
        <li>
          <div>
            <h3>#<%= pokemon.pokedex_number %></h3>
          </div>
          <div>
            <h2><%= pokemon.name %></h2>
          </div>
          <div>
          <img src="<%= pokemon.image %>" alt="<%= pokemon.name %>" />
          </div>
          <div>
            <img class="type" src="<%= `../../../../public/assets/images/type-icons/${pokemon.type1}.png` %>" alt="<%= pokemon.type1 %>" />
            <% if (pokemon.type2){ %>
              <img class="type" src="<%= `../../../../public/assets/images/type-icons/${pokemon.type2}.png` %>" alt="<%= pokemon.type2 %>" />
            <% } %>
          </div>
          <div>
            <form action="/favorites/<%= pokemon.id %>?_method=DELETE" method="POST">
              <button>X</button>
            </form>
          </div>
        </li>
        <% }) %>
    </ul>
  </section>
    </main>
    
<%- include('../layout/footer.ejs') %>
